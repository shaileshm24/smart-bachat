spring:
  main:
    allow-bean-definition-overriding: true
  datasource:
    url: jdbc:postgresql://localhost:5433/smartbachat

    username: yugabyte
    password:
    driver-class-name: org.postgresql.Driver
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect

gcp:
  project-id: smart-bachat-479203
  storage:
    bucket-name: smart-bachat-dev-1
  pubsub:
    topic: pdf-upload-topic
    subscription: pdf-parser-worker-sub
app:
  presign-url-ttl-minutes: 30
  max-batch-size: 500

# JWT Configuration (must match UAM service)
jwt:
  secret: ${JWT_SECRET:your-256-bit-secret-key-here-make-it-long-enough-for-hs256}
  issuer: smart-bachat

# Setu Account Aggregator Configuration
setu:
  # Use sandbox URL for development, production URL for live
  base-url: https://fiu-sandbox.setu.co
  # Get these from Setu Dashboard (https://console.setu.co)
  client-id: ${SETU_CLIENT_ID:4746b381-2293-42c8-9517-77a16f1a557a}
  client-secret: ${SETU_CLIENT_SECRET:IRgR3yhPulYDNsRiO3LwK08HMDlmqMjZ}
  product-instance-id: ${SETU_PRODUCT_INSTANCE_ID:18231c7c-fe11-482b-87de-315c97d17d0d}
  # Webhook secret for signature verification
  webhook-secret: ${SETU_WEBHOOK_SECRET:}
  # Where to redirect user after consent approval
  redirect-url: ${SETU_REDIRECT_URL:http://localhost:3000/bank/callback}
  # Consent validity in months
  consent-duration-months: 12
  # How many months of historical data to fetch
  data-fetch-months: 12
  # FI Types to request (DEPOSIT for bank accounts)
  fi-types: DEPOSIT
  # VUA suffix for mobile number (e.g., @setu-aa, @onemoney-aa)
  vua-suffix: "@setu-aa"
  # Scheduler cron expressions
  sync-cron: "0 0 */6 * * *"      # Sync every 6 hours
  consent-check-cron: "0 0 9 * * *"  # Check expiring consents at 9 AM daily
  cleanup-cron: "0 0 2 * * *"     # Cleanup stale data at 2 AM daily

logging:
  level:
    root: INFO
    com.smartbachat: DEBUG
    com.ametsa.smartbachat: DEBUG
